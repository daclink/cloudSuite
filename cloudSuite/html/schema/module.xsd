<?xml version="1.0" encoding="utf-8" ?>
<xsd:schema xmlns:xsd="http://www.w3.org/2001/XMLSchema">

    <xsd:annotation>
      <xsd:appinfo>CloudSuite module schema</xsd:appinfo>
      <xsd:documentation xml:lang="en">
        This is the object defenition for the module type object
        used in CloudSuite.info
        Copyright 2012 Drew A. Clinkenbeard.
        All rights reserved.
      </xsd:documentation>
    </xsd:annotation>

    <!-- define simple elements -->
    <xsd:element name="product" type="xsd:string"/>
    <xsd:element name="version" type="xsd:string" />
    <xsd:element name="kind" type="xsd:string" />
    <xsd:element name="path" type="xsd:string" />
    <xsd:element name="required" type="xsd:boolean" />
    <xsd:element name="data_type" type="xsd:string" />
    <xsd:element name="default" type="xsd:string" />
    <xsd:element name="description" type="xsd:string" />
    <xsd:element name="flag" type="xsd:string" />
    <xsd:element name="url" type="xsd:string" />
    <xsd:element name="type" type="xsd:string" />
    <xsd:element name="value" type="xsd:string" />
    <xsd:element name="groupName" type="xsd:string" />
    <xsd:element name="everyone" type="xsd:boolean"/>

    <!-- define attributes-->
    <xsd:attribute name="name" type="xsd:string" />
    <xsd:attribute name="id" type="xsd:string" />
    <xsd:attribute name="clearance" type="xsd:string" />

    <!-- define complex types -->

    <xsd:element name="systemRequirement">
        <xsd:complexType>
            <xsd:all>
                <xsd:element ref="product"/>
                <xsd:element ref="version"/>
            </xsd:all>
        </xsd:complexType>		
    </xsd:element>

    <xsd:element name="fileInfo">
        <xsd:complexType>
            <xsd:all>
                <xsd:element ref="kind"/>
                <xsd:element ref="path"/>
            </xsd:all>
            <xsd:attribute ref="name" use="required"/>
        </xsd:complexType>
    </xsd:element>
    
    <xsd:element name="allowed">
        <xsd:complexType>
            <xsd:all>
                <xsd:element ref="description"/>
                <xsd:element ref="flag"/>
            </xsd:all>
            <xsd:attribute ref="name" use="required"/>
        </xsd:complexType>
    </xsd:element>

    <xsd:element name="parameter">
        <xsd:complexType>
            <xsd:sequence>
                <xsd:element ref="required"/>
                <xsd:element ref="data_type"/>
                <xsd:element ref="default"/>
                <xsd:element ref="allowed" maxOccurs="unbounded"/>
            </xsd:sequence>
        </xsd:complexType>		
    </xsd:element>
    
    <xsd:element name="field">
        <xsd:complexType>
            <xsd:sequence>
                <xsd:element ref="type"/> 
                <xsd:element ref="value"/>
            </xsd:sequence>
            <xsd:attribute ref="name" use="required"/>
        </xsd:complexType>
    </xsd:element>
    
    <xsd:element name="input">
        <xsd:complexType>
            <xsd:sequence>
                <xsd:element ref="field" maxOccurs="unbounded"/>
                <xsd:element ref="url"/>
            </xsd:sequence>
        </xsd:complexType>
    </xsd:element>
    
    <xsd:element name="output">
        <xsd:complexType>
            <xsd:all>
                <xsd:element ref="flag"/>
                <xsd:element ref="kind"/>
            </xsd:all>
        </xsd:complexType>
    </xsd:element>
    
    <xsd:element name="group">
        <xsd:complexType>
            <xsd:sequence>
                
            </xsd:sequence>
            <xsd:attribute ref="id" use="required"/>
            <xsd:attribute ref="name" use="required"/>
        </xsd:complexType>
    </xsd:element>
    
    <xsd:element name="permissions">
        <xsd:complexType>
            <xsd:sequence>
                <xsd:element ref ="everyone"/>
                <xsd:element ref ="group" maxOccurs="unbounded"/>
            </xsd:sequence>
            <xsd:attribute ref="clearance" use="required"/>
        </xsd:complexType>
    </xsd:element>
    
    <xsd:element name="module">
        <xsd:complexType>
            <xsd:sequence>
                <xsd:element ref="systemRequirement"/>
                <xsd:element ref="fileInfo" maxOccurs="1"/>
                <xsd:element ref="parameter"/>
                <xsd:element ref="input" maxOccurs="1"/>
                <xsd:element ref="output"/>
                <xsd:element ref="permissions"/>
            </xsd:sequence>
            <xsd:attribute ref="id" use="required"/>
            <xsd:attribute ref="name" use="required"/>
        </xsd:complexType>
    </xsd:element>
 
</xsd:schema>

